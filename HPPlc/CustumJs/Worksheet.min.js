var timeoutId, row = $("#hdAlreadyDisplayedWorksheet").val(), allcount = "", rowperpage = "", Input = { CultureInfo: $("#hdnCultureInfo").val(), selectedAgeGroup: "", selectedSubject: "", IsCbseContent: "", DisplayAgeGroup: row }; function GetWorkSheetList(e, t, o) { var r = { CultureInfo: $("#hdnCultureInfo").val(), selectedAgeGroup: e, selectedSubject: t, IsCbseContent: o, DisplayAgeGroup: row }; $.ajax({ type: "POST", dataType: "html", url: "/umbraco/Surface/WorkSheet/GetWorksheetList", data: r, success: function (e) { $("#hdTobeDisplayWorksheet").val(row), $("#WorksheetList").append(e), slicjFunction(), share(), $(".clsPrintDoc").click((function () { var e = $(this).find("span").html(); try { var t = $(this).find("span").next("span").html(); printTracker(t, "Home") } catch (e) { } PrintWorkSheet(e) })) }, error: function (e) { $("#worksheetLoading").hide() }, complete: function () { $("#worksheetLoading").hide(), $(window).data("ajaxready", !0) } }) } function GetWorkSheetListFilter(e, t, o, r) { $("#WorksheetList").html(""), $("#NoResultFound").css("display", "block"), $("#worksheetLoading").show(); var a = { CultureInfo: $("#hdnCultureInfo").val(), selectedAgeGroup: e, selectedSubject: t, selectedTopics: o, IsCbseContent: r, DisplayAgeGroup: 0 }; $.ajax({ type: "POST", contentType: "application/json", url: "/umbraco/Surface/WorkSheet/GetWorksheetList", data: JSON.stringify(a), success: function (e) { $("#WorksheetList").html("").append(e), slicjFunction(), share(), $(".clsPrintDoc").click((function () { var e = $(this).find("span").html(); try { var t = $(".clsPrintDoc").find("span").next("span").html(); printTracker(t, "Home") } catch (e) { } PrintWorkSheet(e) })) }, error: function (e) { $("#worksheetLoading").hide() }, complete: function () { $("#worksheetLoading").hide() } }) } $.post("/umbraco/Surface/WorkSheet/GetWorksheetList", { Input: Input }, (function (e, t) { $("#hdTobeDisplayWorksheet").val(row), $("#WorksheetList").append(e), $(window).data("ajaxready", !0), slicjFunction(), share(), $(".clsPrintDoc").click((function () { var e = $(this).find("span").html(); try { var t = $(this).find("span").next("span").html(); printTracker(t, "Home") } catch (e) { } PrintWorkSheet(e) })), $("#worksheetLoading").hide() })), $(window).data("ajaxready", !1).scroll((function (e) { if (0 != $(window).data("ajaxready")) { var t = $(".faqbox-row").height(); null != t && "undefined" != t && "" != t || (t = 0); var o = $(window).scrollTop(), r = $(document).height() - $(window).height(), a = t + $("footer").height() + 100; row = Number($("#hdTobeDisplayWorksheet").val()), allcount = Number($("#hdTotalNoOfDisplayWorksheet").val()), rowperpage = Number($("#hdAlreadyDisplayedWorksheet").val()), o > r - a && (row += rowperpage) <= allcount + 1 && ($(window).data("ajaxready", !1), $("#worksheetLoading").css("display", "block"), GetWorkSheetList("", "", "")) } }));